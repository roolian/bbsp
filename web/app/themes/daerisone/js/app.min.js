var tlMap=new TimelineLite,hammerelmt=!1,controller=new ScrollMagic.Controller;function pageInit(){if(controller=controller.destroy(!0),controller=new ScrollMagic.Controller,$(".side-gallery-container").length){var e=document.querySelector(".side-gallery-container");SimpleScrollbar.initEl(e)}if($(".album-archive-container").length){var n=document.querySelector(".album-archive-container");SimpleScrollbar.initEl(n),"ontouchstart"in window||"onmsgesturechange"in window?(console.log(1),"object"==typeof hammerelmt&&hammerelmt.destroy(),(hammerelmt=new Hammer($(".album-archive-container")[0])).on("tap",function(e){$(e.target).hasClass("on")||$(e.target).parents(".item-link").hasClass("on")||($(".item-link").removeClass("on"),setTimeout(function(){$(e.target).addClass("on")},200))}),console.log(hammerelmt)):$(".album-archive-container").find(".item-content").on("mouseenter",function(){$target=$(this).find(".item-link"),$target.hasClass("on")||($(".item-link").removeClass("on"),$target.addClass("on"))}).on("mouseleave",function(){$(".item-link").removeClass("on")}),$(window).width()<768&&$(".album-item-wrapper").each(function(e){var n=this;new ScrollMagic.Scene({triggerElement:this,triggerHook:.5,duration:$(this).height(),offset:0}).setClassToggle("on").on("enter",function(e){$(n).find(".item-link").addClass("on")}).on("leave",function(e){$(n).find(".item-link").removeClass("on")}).addTo(controller)})}if($(".side-gallery-item").on("click",clickRightGaleryItem),$(".swiper-container").length,$(".swiper-container").length){TweenLite.set(".swiper-container",{opacity:0});new Swiper(".swiper-container",{loop:!0,effect:"fade",speed:1e3,autoplay:{delay:4e3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},on:{init:function(){TweenLite.to(".swiper-container",1,{opacity:1,ease:Power1.easeInOut})}}})}}function clickRightGaleryItem(){var e=$(this).data("url"),n=$(this).data("id"),t=$(".image-place").find(".image-place-container");if($(".image-place").find("#"+n).length)TweenLite.to(".content-container",.5,{opacity:1,ease:Power1.easeInOut});else{var a=$('<div class="image-place-container" id="'+n+'"><img src="'+e+'" alt=""/></div>');TweenLite.set(a,{opacity:0,y:20}),$(".image-place").append(a),TweenLite.to(a,1,{opacity:1,y:0,ease:Power1.easeInOut}),TweenLite.to(".content-container",.5,{opacity:0,ease:Power1.easeInOut}),a.on("click",function(){closeRightGalery($(this)),TweenLite.to(".content-container",.5,{opacity:1,ease:Power1.easeInOut})})}closeRightGalery(t)}function closeRightGalery(e){TweenLite.to(e,1,{opacity:0,ease:Power1.easeInOut,onComplete:function(){e.remove()}})}function onScroll(){100<=$(window).scrollTop()?$(".header-wrapper").addClass("scrolled"):$(".header-wrapper").removeClass("scrolled")}function bugerMenuClickEvent(e){$(".icon-burger").hasClass("open")?closeMenu():($(".icon-burger").addClass("open"),$(".navigation-wrapper").addClass("open"))}function closeMenu(){$(".icon-burger").hasClass("open")&&($(".navigation-wrapper").removeClass("open"),$(".icon-burger").removeClass("open"))}function initBarbaJs(){Barba.Dispatcher.on("linkClicked",barbaLinkClicked),Barba.Dispatcher.on("newPageReady",barbaNewPageReady),Barba.Dispatcher.on("transitionCompleted",barbaTransitionCompleted);var e=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.fadeOut()]).then(this.fadeIn.bind(this))},fadeOut:function(){var e=Barba.Utils.deferred();return TweenLite.to(this.oldContainer,1,{opacity:0,ease:Power2.easeOut,onComplete:function(){e.resolve()}}),e.promise},fadeIn:function(){var e=this,n=$(this.newContainer),t=[],a=[];n.find(".album-item-container").length&&t.push(n.find(".album-item-container")),n.find(".side-gallery-item").length&&t.push(n.find(".side-gallery-item")),n.find(".content-container h1, .content-container article").length&&t.push(n.find(".content-container h1, .content-container article")),t.forEach(function(e){TweenLite.set(e,{opacity:0,y:20})}),n.find(".contact-wrapper").length&&a.push(n.find(".contact-wrapper")),n.find(".slider-wrapper").length&&a.push(n.find(".slider-wrapper")),a.forEach(function(e){TweenLite.set(e,{opacity:0})}),TweenLite.set(".transitionLayer",{scaleY:0}),$(this.oldContainer).hide(),n.css({visibility:"visible",opacity:0}),n.animate({opacity:1},50,function(){a.forEach(function(e){TweenMax.staggerTo(e,1,{opacity:1,ease:Power1.easeInOut},.3)}),t.forEach(function(e){TweenMax.staggerTo(e,1,{opacity:1,y:0,ease:Power1.easeInOut},.3)}),e.done()})}});Barba.Pjax.getTransition=function(){return e},Barba.Pjax.start()}function barbaNewPageReady(e,n,t,a){var i=/\<body.*\sclass=["'](.+?)["'].*\>/gi.exec(a);i&&i[1]&&document.body.setAttribute("class",i[1]);var o=$(a).find(".barbabreadcrumb");$(".barbabreadcrumb").html(o.html())}function barbaTransitionCompleted(e,n){pageInit()}function barbaLinkClicked(e,n){closeMenu()}$(document).ready(function(){$("#menu-toggle").on("click",bugerMenuClickEvent),initBarbaJs()});
//# sourceMappingURL=maps/app.min.js.map
