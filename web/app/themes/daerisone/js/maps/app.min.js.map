{"version":3,"sources":["app.js"],"names":["tlMap","TimelineLite","hammerelmt","controller","ScrollMagic","Controller","pageInit","destroy","$","length","el","document","querySelector","SimpleScrollbar","initEl","el2","window","console","log","Hammer","on","ev","target","hasClass","parents","removeClass","setTimeout","addClass","find","$target","this","width","each","i","$this","Scene","triggerElement","triggerHook","duration","height","offset","setClassToggle","event","addTo","clickRightGaleryItem","TweenLite","set","opacity","Swiper","loop","effect","speed","autoplay","delay","navigation","nextEl","prevEl","pagination","clickable","init","to","ease","Power1","easeInOut","url","data","id","$oldImg","$img","y","append","closeRightGalery","elmt","onComplete","remove","onScroll","scrollTop","bugerMenuClickEvent","closeMenu","initBarbaJs","Barba","Dispatcher","barbaLinkClicked","barbaNewPageReady","barbaTransitionCompleted","FadeTransition","BaseTransition","extend","start","Promise","all","newContainerLoading","fadeOut","then","fadeIn","bind","deferred","Utils","oldContainer","Power2","easeOut","resolve","promise","_this","$el","newContainer","elemt","toFade","push","forEach","element","scaleY","hide","css","visibility","animate","TweenMax","staggerTo","done","Pjax","getTransition","currentStatus","oldStatus","container","newPageRawHTML","match","exec","body","setAttribute","newMenu","html","prevStatus","HTMLElement","MouseEvent","ready"],"mappings":"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","file":"../app.min.js","sourcesContent":["/*\r\n\r\n SmoothScroll({\r\n  stepSize: 100,\r\n  // Acceleration\r\n  accelerationDelta : 80,  // 50\r\n  accelerationMax   : 4,   // 3\r\n});\r\n*/\r\n\r\nvar tlMap = new TimelineLite();\r\nvar hammerelmt = false;\r\n\r\nvar controller = new ScrollMagic.Controller();\r\n\r\n$(document).ready(function () {\r\n\r\n  //$('body').css('height',3000);\r\n\r\n  $( \"#menu-toggle\" ).on('click', bugerMenuClickEvent);\r\n  //$(window).on('scroll', onScroll);\r\n\r\n  //pageInit();\r\n  initBarbaJs();\r\n\r\n  \r\n\r\n\r\n\r\n});\r\n\r\n\r\n\r\n/*========================================================*/\r\n/*======================= Page Init ======================*/\r\n/*========================================================*/\r\nfunction pageInit() {\r\n\r\n  controller = controller.destroy(true);\r\n  controller = new ScrollMagic.Controller();\r\n\r\n  //var el = document.querySelector('.barba-container');\r\n  if( $('.side-gallery-container').length ){\r\n    var el = document.querySelector('.side-gallery-container');\r\n    SimpleScrollbar.initEl(el);\r\n  }\r\n\r\n\r\n  if( $('.album-archive-container').length ){\r\n\r\n    var el2 = document.querySelector('.album-archive-container');\r\n    SimpleScrollbar.initEl(el2);\r\n\r\n    var isTouchDevice = ('ontouchstart' in window || 'onmsgesturechange' in window);\r\n    if ( isTouchDevice ){\r\n        console.log(1);\r\n        if( typeof hammerelmt === 'object' ) hammerelmt.destroy();\r\n\r\n        hammerelmt = new Hammer( $('.album-archive-container')[0] );\r\n        \r\n        hammerelmt.on('tap', function(ev) {\r\n          if( !$(ev.target).hasClass('on') && !$(ev.target).parents('.item-link').hasClass('on')){\r\n            $('.item-link').removeClass('on');\r\n            setTimeout(function(){\r\n              $(ev.target).addClass('on');\r\n            }, 200);\r\n          }\r\n        });\r\n        console.log(hammerelmt);\r\n    }else{\r\n      $('.album-archive-container').find('.item-content')\r\n        .on('mouseenter', function(){\r\n          $target = $(this).find('.item-link');\r\n          if( !$target.hasClass('on') ){\r\n            $('.item-link').removeClass('on');;\r\n            $target.addClass('on');\r\n          }\r\n        }).on('mouseleave',function(){\r\n          $('.item-link').removeClass('on');;\r\n        });\r\n    }\r\n\r\n    if( $(window).width() < 768 ){\r\n\r\n      $('.album-item-wrapper').each(function( i ){\r\n        var $this = this;\r\n        var scene = new ScrollMagic.Scene({\r\n            triggerElement:this,\r\n            //duration: 100,    // the scene should last for a scroll distance of 100px\r\n            triggerHook: 0.5,\r\n            duration: $(this).height(), // hide 10% before exiting view (80% + 10% from bottom)\r\n            offset: 0    // start this scene after scrolling for 50px\r\n        })\r\n        .setClassToggle(\"on\") // add class to reveal\r\n        .on(\"enter\", function (event){\r\n          $($this).find('.item-link').addClass('on');\r\n        })\r\n        .on(\"leave\", function (event){\r\n          $($this).find('.item-link').removeClass('on');\r\n        })\r\n        //.addIndicators() // add indicators (requires plugin)\r\n        .addTo(controller); // assign the scene to the controller\r\n\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  $('.side-gallery-item').on('click', clickRightGaleryItem);\r\n\r\n  /*\r\n  \r\n  $boxes.on('mouseenter', function(){\r\n    $target = $(this).find('.item-link');\r\n    if( !$target.hasClass('on') ){\r\n      $('.item-link').removeClass('on');;\r\n      $target.addClass('on');\r\n    }\r\n    \r\n  });\r\n  */\r\n  //Slider \r\n  \r\n  if( $('.swiper-container').length ){\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  if( $('.swiper-container').length ){\r\n    TweenLite.set('.swiper-container',{opacity:0});\r\n    var mySwiper = new Swiper ('.swiper-container', {\r\n      // Optional parameters\r\n      loop: true,\r\n      effect:'fade',\r\n      speed:1000,\r\n      autoplay: {\r\n        delay: 4000,\r\n      },\r\n      // Navigation arrows\r\n      navigation: {\r\n        nextEl: '.swiper-button-next',\r\n        prevEl: '.swiper-button-prev',\r\n      },\r\n      pagination: {\r\n        el: '.swiper-pagination',\r\n        clickable: true,\r\n      },\r\n      on: {\r\n        init: function () {\r\n          TweenLite.to('.swiper-container',1,{\r\n            opacity:1,\r\n            ease: Power1.easeInOut,\r\n          });\r\n        },\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n\r\n/*========================================================*/\r\n/*=================== Right Galery click =================*/\r\n/*========================================================*/\r\nfunction clickRightGaleryItem(){\r\n  var url = $(this).data('url');\r\n  var id = $(this).data('id');\r\n  var $oldImg = $('.image-place').find('.image-place-container');\r\n\r\n    if( !$('.image-place').find('#'+id).length ) {\r\n      var $img = $('<div class=\"image-place-container\" id=\"'+id+'\"><img src=\"'+url+'\" alt=\"\"/></div>');\r\n      TweenLite.set($img,{opacity:0, y:20});\r\n      $('.image-place').append($img);\r\n      TweenLite.to($img,1,{\r\n        opacity:1, \r\n        y:0, \r\n        ease: Power1.easeInOut\r\n      });\r\n      TweenLite.to('.content-container',0.5,{\r\n        opacity:0,\r\n        ease: Power1.easeInOut,\r\n      });\r\n      $img.on('click',function(){\r\n        closeRightGalery($(this));\r\n        TweenLite.to('.content-container',0.5,{\r\n          opacity:1,\r\n          ease: Power1.easeInOut,\r\n        });\r\n      });\r\n    }\r\n    else{\r\n      TweenLite.to('.content-container',0.5,{\r\n        opacity:1,\r\n        ease: Power1.easeInOut,\r\n      });\r\n    }\r\n\r\n    closeRightGalery($oldImg);\r\n}\r\nfunction closeRightGalery(elmt){\r\n  TweenLite.to(elmt,1,{\r\n    opacity:0,\r\n    ease: Power1.easeInOut,\r\n    onComplete: function(){\r\n      elmt.remove();\r\n    }\r\n  });\r\n}\r\n\r\n/*========================================================*/\r\n/*======================= Scroll ====================*/\r\n/*========================================================*/\r\nfunction onScroll(){\r\n\r\n  var scrollTop = $(window).scrollTop();\r\n  if (scrollTop >= 100) {\r\n    $('.header-wrapper').addClass('scrolled');\r\n  } else {\r\n    $('.header-wrapper').removeClass('scrolled');\r\n  } \r\n}\r\n\r\n\r\n/*========================================================*/\r\n/*======================= Burger menu ====================*/\r\n/*========================================================*/\r\nfunction bugerMenuClickEvent(event) {\r\n  if ( !$('.icon-burger').hasClass('open') ){\r\n    $('.icon-burger').addClass('open');\r\n    $('.navigation-wrapper').addClass('open');\r\n  } else {\r\n    closeMenu();\r\n  }\r\n}\r\n\r\nfunction closeMenu(){\r\n  if ( $('.icon-burger').hasClass('open') ){\r\n    $('.navigation-wrapper').removeClass('open');\r\n    $('.icon-burger').removeClass('open');\r\n  }\r\n}\r\n\r\n/*========================================================*/\r\n/*======== Barba js Transition manager ===================*/\r\n/*========================================================*/\r\nfunction initBarbaJs() {\r\n\r\n  Barba.Dispatcher.on('linkClicked', barbaLinkClicked);\r\n  Barba.Dispatcher.on('newPageReady', barbaNewPageReady);\r\n  Barba.Dispatcher.on('transitionCompleted', barbaTransitionCompleted);\r\n\r\n  var FadeTransition = Barba.BaseTransition.extend({\r\n    start: function() {\r\n      Promise\r\n        .all([this.newContainerLoading, this.fadeOut()])\r\n        .then(this.fadeIn.bind(this));\r\n    },\r\n\r\n    fadeOut: function() {\r\n      var deferred = Barba.Utils.deferred();\r\n      /*\r\n      TweenLite.to('.transitionLayer', 1, {\r\n        scaleY:1,\r\n        ease: Power2.easeIn,\r\n        onComplete: function(){\r\n          $(this.oldContainer).css({ opacity: 0 });\r\n          deferred.resolve();\r\n        }\r\n      });\r\n      */\r\n      TweenLite.to(this.oldContainer, 1, {\r\n        opacity: 0,\r\n        ease: Power2.easeOut,\r\n        onComplete: function(){\r\n          deferred.resolve();\r\n        }\r\n      });\r\n\r\n      return deferred.promise;\r\n\r\n    },\r\n\r\n    fadeIn: function() {\r\n      var _this = this;\r\n      var $el = $(this.newContainer);\r\n\r\n      var elemt = [];\r\n      var toFade = [];\r\n\r\n      if ( $el.find('.album-item-container').length )\r\n        elemt.push( $el.find('.album-item-container') );\r\n      if ( $el.find('.side-gallery-item').length )\r\n        elemt.push( $el.find('.side-gallery-item') );\r\n      if ( $el.find('.content-container h1, .content-container article').length )\r\n        elemt.push( $el.find('.content-container h1, .content-container article') );\r\n      \r\n\r\n      elemt.forEach(function(element) {\r\n         TweenLite.set(element,{opacity:0, y:20});\r\n      });\r\n\r\n      if ( $el.find('.contact-wrapper').length )\r\n        toFade.push( $el.find('.contact-wrapper') );\r\n      if ( $el.find('.slider-wrapper').length )\r\n        toFade.push( $el.find('.slider-wrapper') );\r\n\r\n      toFade.forEach(function(element) {\r\n         TweenLite.set(element,{opacity:0});\r\n      });\r\n\r\n      TweenLite.set('.transitionLayer', {scaleY:0} );\r\n      $(this.oldContainer).hide();\r\n\r\n      $el.css({\r\n        visibility : 'visible',\r\n        opacity : 0\r\n      });\r\n\r\n      $el.animate({ opacity: 1 }, 50, function() {\r\n        toFade.forEach(function(element) {\r\n            TweenMax.staggerTo(element, 1, {\r\n              opacity:1, \r\n              ease: Power1.easeInOut\r\n            },0.3);\r\n\r\n        });\r\n        elemt.forEach(function(element) {\r\n            TweenMax.staggerTo(element, 1, {\r\n              opacity:1, \r\n              y:0,\r\n              ease: Power1.easeInOut\r\n            },0.3);\r\n\r\n        });\r\n\r\n        _this.done();\r\n      });\r\n    }\r\n  });\r\n\r\n  Barba.Pjax.getTransition = function() {\r\n    /**\r\n     * Here you can use your own logic!\r\n     * For example you can use different Transition based on the current page or link...\r\n     */\r\n\r\n    return FadeTransition;\r\n  };\r\n\r\n\r\n\r\n\r\n  Barba.Pjax.start();\r\n\r\n}\r\n\r\nfunction barbaNewPageReady(currentStatus, oldStatus, container, newPageRawHTML){\r\n  var regexp = /\\<body.*\\sclass=[\"'](.+?)[\"'].*\\>/gi,\r\n      match = regexp.exec(newPageRawHTML);\r\n  if(match && match[1])  document.body.setAttribute('class', match[1]);\r\n\r\n  var newMenu = $(newPageRawHTML).find('.barbabreadcrumb');\r\n  //console.log(newMenu.html());\r\n  $('.barbabreadcrumb').html(newMenu.html());\r\n\r\n  \r\n}\r\n\r\nfunction barbaTransitionCompleted(currentStatus, prevStatus){\r\n  pageInit();\r\n}\r\n\r\n\r\nfunction barbaLinkClicked(HTMLElement, MouseEvent){\r\n  closeMenu();\r\n}\r\n\r\n\r\n\r\n"]}